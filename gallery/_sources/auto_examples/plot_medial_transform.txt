.. _example_plot_medial_transform.py:


===========================
Medial axis skeletonization
===========================

The medial axis of an object is the set of all points having more than one
closest point on the object's boundary. It is often called the **topological
skeleton**, because it is a 1-pixel wide skeleton of the object, with the same
connectivity as the original object.

Here, we use the medial axis transform to compute the width of the foreground
objects. As the function ``medial_axis`` (``skimage.morphology.medial_axis``)
returns the distance transform in addition to the medial axis (with the keyword
argument ``return_distance=True``), it is possible to compute the distance to
the background for all points of the medial axis with this function. This gives
an estimate of the local width of the objects.

For a skeleton with fewer branches, there exists another skeletonization
algorithm in ``skimage``: ``skimage.morphology.skeletonize``, that computes
a skeleton by iterative morphological thinnings.


.. image:: images/plot_medial_transform_1.png
    :align: center


.. raw:: html
    
    <p id="controls">
        <button type="button" class="btn btn-default btn-small" id="editcode">
            <i class="icon-edit"></i>
        </button>
    </p>

.. literalinclude:: plot_medial_transform.py
    :lines: 23-


.. raw:: html

    <p id="run_btn">
        <button type="button" class="btn btn-default btn-lg" id="runcode">
            <i class="icon-play"></i> Run
        </button>
        <button type="button" class="btn btn-default btn-lg" id="reload">
            <i class="icon-refresh"></i>
        </button>
        <img id="loading" src="../_static/ajax-loader.gif"/>
    </p>

.. raw:: html

    <p>
        <div class="alert alert-success" id="success-message"></div>
        <div class="alert alert-error" id="error-message"></div>
        <div class="all-output">
            <p class="stdout-group">
                <i class="icon-info-sign"></i> <u>STDOUT</u>
            </p>
            <pre id="stdout"></pre>
            <hr class="stdout-group">
            <p class="stderr-group">
                <i class="icon-remove-sign"></i> <u>STDERR</u>
            </p>
            <pre id="stderr"></pre>
            <hr class="stderr-group">
        </div>
    </p>


**Python source code:** :download:`download <plot_medial_transform.py>`
(generated using ``skimage`` |version|)



**IPython Notebook:** :download:`download <./notebook/plot_medial_transform.ipynb>`
(generated using ``skimage`` |version|)


.. raw:: html

    <div class="tobehidden">aW1wb3J0IG51bXB5IGFzIG5wCmZyb20gc2NpcHkgaW1wb3J0IG5kaW1hZ2UKZnJvbSBza2ltYWdlLm1vcnBob2xvZ3kgaW1wb3J0IG1lZGlhbF9heGlzCmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHQKCgpkZWYgbWljcm9zdHJ1Y3R1cmUobD0yNTYpOgogICAgIiIiCiAgICBTeW50aGV0aWMgYmluYXJ5IGRhdGE6IGJpbmFyeSBtaWNyb3N0cnVjdHVyZSB3aXRoIGJsb2JzLgoKICAgIFBhcmFtZXRlcnMKICAgIC0tLS0tLS0tLS0KCiAgICBsOiBpbnQsIG9wdGlvbmFsCiAgICAgICAgbGluZWFyIHNpemUgb2YgdGhlIHJldHVybmVkIGltYWdlCgogICAgIiIiCiAgICBuID0gNQogICAgeCwgeSA9IG5wLm9ncmlkWzA6bCwgMDpsXQogICAgbWFza19vdXRlciA9ICh4IC0gbC8yKSoqMiArICh5IC0gbC8yKSoqMiA8IChsLzIpKioyCiAgICBtYXNrID0gbnAuemVyb3MoKGwsIGwpKQogICAgZ2VuZXJhdG9yID0gbnAucmFuZG9tLlJhbmRvbVN0YXRlKDEpCiAgICBwb2ludHMgPSBsICogZ2VuZXJhdG9yLnJhbmQoMiwgbioqMikKICAgIG1hc2tbKHBvaW50c1swXSkuYXN0eXBlKG5wLmludCksIChwb2ludHNbMV0pLmFzdHlwZShucC5pbnQpXSA9IDEKICAgIG1hc2sgPSBuZGltYWdlLmdhdXNzaWFuX2ZpbHRlcihtYXNrLCBzaWdtYT1sLyg0LipuKSkKICAgIHJldHVybiBtYXNrID4gbWFzay5tZWFuKCkKCmRhdGEgPSBtaWNyb3N0cnVjdHVyZShsPTY0KQoKIyBDb21wdXRlIHRoZSBtZWRpYWwgYXhpcyAoc2tlbGV0b24pIGFuZCB0aGUgZGlzdGFuY2UgdHJhbnNmb3JtCnNrZWwsIGRpc3RhbmNlID0gbWVkaWFsX2F4aXMoZGF0YSwgcmV0dXJuX2Rpc3RhbmNlPVRydWUpCgojIERpc3RhbmNlIHRvIHRoZSBiYWNrZ3JvdW5kIGZvciBwaXhlbHMgb2YgdGhlIHNrZWxldG9uCmRpc3Rfb25fc2tlbCA9IGRpc3RhbmNlICogc2tlbAoKZmlnLCAoYXgxLCBheDIpID0gcGx0LnN1YnBsb3RzKDEsIDIsIGZpZ3NpemU9KDgsIDQpKQpheDEuaW1zaG93KGRhdGEsIGNtYXA9cGx0LmNtLmdyYXksIGludGVycG9sYXRpb249J25lYXJlc3QnKQpheDEuYXhpcygnb2ZmJykKYXgyLmltc2hvdyhkaXN0X29uX3NrZWwsIGNtYXA9cGx0LmNtLnNwZWN0cmFsLCBpbnRlcnBvbGF0aW9uPSduZWFyZXN0JykKYXgyLmNvbnRvdXIoZGF0YSwgWzAuNV0sIGNvbG9ycz0ndycpCmF4Mi5heGlzKCdvZmYnKQoKZmlnLnN1YnBsb3RzX2FkanVzdChoc3BhY2U9MC4wMSwgd3NwYWNlPTAuMDEsIHRvcD0xLCBib3R0b209MCwgbGVmdD0wLCByaWdodD0xKQpwbHQuc2hvdygp</div>
