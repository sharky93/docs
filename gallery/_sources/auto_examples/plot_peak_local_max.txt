.. _example_plot_peak_local_max.py:


====================
Finding local maxima
====================

The ``peak_local_max`` function returns the coordinates of local peaks (maxima)
in an image. A maximum filter is used for finding local maxima. This operation
dilates the original image and merges neighboring local maxima closer than the
size of the dilation. Locations where the original image is equal to the
dilated image are returned as local maxima.


.. image:: images/plot_peak_local_max_1.png
    :align: center


.. raw:: html
    
    <p id="controls">
        <button type="button" class="btn btn-default btn-small editcode">
            <i class="icon-edit"></i>
        </button>
    </p>

.. literalinclude:: plot_peak_local_max.py
    :lines: 13-


.. raw:: html

    <p class="run_btn">
        <button type="button" class="btn btn-default btn-lg runcode">
            <i class="icon-play"></i> Run
        </button>
        <img class="loading" src="../_static/ajax-loader.gif"/>
    </p>

.. raw:: html

    <p id="revert_btn">
        <button type="button" class="btn btn-default btn-lg" id="reload">
            <i class="icon-refresh"></i>
        </button>
    </p>

.. raw:: html

    <p>
        <div class="alert alert-success" id="success-message"></div>
        <div class="alert alert-error" id="error-message"></div>
        <div class="all-output">
            <p class="stdout-group">
                <i class="icon-info-sign"></i> <u>STDOUT</u>
            </p>
            <pre id="stdout"></pre>
            <hr class="stdout-group">
            <p class="stderr-group">
                <i class="icon-remove-sign"></i> <u>STDERR</u>
            </p>
            <pre id="stderr"></pre>
            <hr class="stderr-group">
        </div>
    </p>


**Python source code:** :download:`download <plot_peak_local_max.py>`
(generated using ``skimage`` |version|)



**IPython Notebook:** :download:`download <./notebook/plot_peak_local_max.ipynb>`
(generated using ``skimage`` |version|)


.. raw:: html

    <div class="tobehidden">ZnJvbSBzY2lweSBpbXBvcnQgbmRpbWFnZQppbXBvcnQgbWF0cGxvdGxpYi5weXBsb3QgYXMgcGx0CmZyb20gc2tpbWFnZS5mZWF0dXJlIGltcG9ydCBwZWFrX2xvY2FsX21heApmcm9tIHNraW1hZ2UgaW1wb3J0IGRhdGEsIGltZ19hc19mbG9hdAoKaW0gPSBpbWdfYXNfZmxvYXQoZGF0YS5jb2lucygpKQoKIyBpbWFnZV9tYXggaXMgdGhlIGRpbGF0aW9uIG9mIGltIHdpdGggYSAyMCoyMCBzdHJ1Y3R1cmluZyBlbGVtZW50CiMgSXQgaXMgdXNlZCB3aXRoaW4gcGVha19sb2NhbF9tYXggZnVuY3Rpb24KaW1hZ2VfbWF4ID0gbmRpbWFnZS5tYXhpbXVtX2ZpbHRlcihpbSwgc2l6ZT0yMCwgbW9kZT0nY29uc3RhbnQnKQoKIyBDb21wYXJpc29uIGJldHdlZW4gaW1hZ2VfbWF4IGFuZCBpbSB0byBmaW5kIHRoZSBjb29yZGluYXRlcyBvZiBsb2NhbCBtYXhpbWEKY29vcmRpbmF0ZXMgPSBwZWFrX2xvY2FsX21heChpbSwgbWluX2Rpc3RhbmNlPTIwKQoKIyBkaXNwbGF5IHJlc3VsdHMKZmlnLCBheCA9IHBsdC5zdWJwbG90cygxLCAzLCBmaWdzaXplPSg4LCAzKSkKYXgxLCBheDIsIGF4MyA9IGF4LnJhdmVsKCkKYXgxLmltc2hvdyhpbSwgY21hcD1wbHQuY20uZ3JheSkKYXgxLmF4aXMoJ29mZicpCmF4MS5zZXRfdGl0bGUoJ09yaWdpbmFsJykKCmF4Mi5pbXNob3coaW1hZ2VfbWF4LCBjbWFwPXBsdC5jbS5ncmF5KQpheDIuYXhpcygnb2ZmJykKYXgyLnNldF90aXRsZSgnTWF4aW11bSBmaWx0ZXInKQoKYXgzLmltc2hvdyhpbSwgY21hcD1wbHQuY20uZ3JheSkKYXgzLmF1dG9zY2FsZShGYWxzZSkKYXgzLnBsb3QoY29vcmRpbmF0ZXNbOiwgMV0sIGNvb3JkaW5hdGVzWzosIDBdLCAnci4nKQpheDMuYXhpcygnb2ZmJykKYXgzLnNldF90aXRsZSgnUGVhayBsb2NhbCBtYXgnKQoKZmlnLnN1YnBsb3RzX2FkanVzdCh3c3BhY2U9MC4wMiwgaHNwYWNlPTAuMDIsIHRvcD0wLjksCiAgICAgICAgICAgICAgICAgICAgYm90dG9tPTAuMDIsIGxlZnQ9MC4wMiwgcmlnaHQ9MC45OCkKCnBsdC5zaG93KCk=</div>
